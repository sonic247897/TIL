> # Part 3: 프로그램들 간의 상호작용과 통신
>
> 응용프로그램들은 다른 프로그램들과, 그리고 입출력 장치들과 통신하기 위해서 **운영체제가 제공하는 서비스들**을 사용한다.
>
> - Unix 운영체제가 제공하는 기본 입출력 서비스
>   - 웹 서버와 웹 클라이언트 사이의 통신
> - 다수의 클라이언트에 서비스할 수 있는 동시성 프로그램을 작성하는 기술
>   - 현대 멀티 코어 프로세서에서 더 빨리 실행된다.

# 12장. 동시성 프로그래밍

- 동시성(concurrency)

  : `논리 제어흐름`이 시간적으로 중첩되는 현상

컴퓨터 시스템의 여러 수준에서 **동시성**이 나타난다.

1. 운영체제 **커널**이 다수의 응용프로그램을 돌리기 위해 사용하는 메커니즘

   - 하드웨어 예외 핸들러
   - 프로세스
   - 리눅스 시그널 핸들러

2. 응용프로그램에서의 역할

   - `리눅스 시그널 핸들러`가 비동기성 이벤트들에 대해 응용프로그램이 응답하도록 해준다.

     - 사용자가 Ctrl+C를 누르는 경우
     - 프로그램이 가상메모리의 정의되지 않은 영역에 접근하는 경우

   - 느린 I/O 디바이스 접근

     : I/O 요청과 유용한 작업을 겹치게 하는 방법으로 `동시성`을 활용할 수 있다.

   - 현대의 윈도우 시스템(window system, 창을 추가하는 GUI)

     : 동시에 다수의 작업을 수행할 수 있도록, 사용자가 어떤 동작을 요청할 때마다 별도의 동시적(concurrent) 논리흐름이 생성된다.

     - ex) 문서를 출력하고 있는 동안에 창의 크기를 조정하기

   - 작업을 지연시켜서 시간지연을 줄이기

     : 응용프로그램이 특정 동작의 시간 지연을 줄이기 위해, 다른 동작을 지연시키고 이들을 동시에 수행(동시성)할 수 있다.

     - 동적 저장장치 할당기

   - 다수의 네트워크 클라이언트 처리

     - 반복실행형 네트워크 서버

       : 한 번에 한 개의 클라이언트만 서비스할 수 있으므로 비현실적

     - **동시성 네트워크 서버**

       : 클라이언트마다 별도의 논리흐름을 생성하면 다수의 클라이언트를 동시에 서비스할 수 있다.

   - 멀티 코어 머신에서 병렬로 계산

     : 동시성 흐름들로 나누어진 응용프로그램은 **멀티 코어 머신에서 병렬로 실행**되므로 더 빠르다.



- 동시성 프로그램

  : `응용 프로그램 수준의 동시성`을 사용하는 응용 프로그램

현대의 `운영체제`는 동시성 프로그램을 만들기 위해 세 개의 기본 접근방법을 제공한다:

1. 프로세스

   - 논리적 흐름 - 프로세스
   - 스케줄 - **커널**이 스케줄하고 관리함
   - 통신 - 프로세스가 별도의 `가상 주소공간`을 가지므로 `명시적 프로세스 간 통신(interprocess communication: IPC) 메커니즘`을 사용해야 한다.

2. I/O 다중화

   - 논리적 흐름 - 

   - 통신 - 프로그램이 한 개의 프로세스이므로 흐름들은 **동일한 `가상 주소공간`을 공유**한다.

3. 스레드(thread)

   - 논리적 흐름 - 스레드(= 한 개의 프로세스 `컨텍스트`에서 돌아가는 논리흐름)
   - 스케줄 - **커널**이 스케줄하고 관리함
   - 통신 - 프로그램이 한 개의 프로세스이므로 흐름들은 **동일한 `가상 주소공간`을 공유**한다.