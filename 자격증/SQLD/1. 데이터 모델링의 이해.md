# Ch01. 데이터 모델링의 이해

## 1. 데이터 모델링의 이해

### `데이터 모델의 이해`

#### 1. 모델링의 이해

##### 가. 모델링의 정의

- `모델`이라고 하는 것은 사람이 다양한 현상에 대해서 **일정한 표기법(규칙)에 의해 표현해 놓은 모형**이라고 할 수 있다. 이 역시 커뮤니케이션의 **효율성을 극대화한** 고급화된 표현방법으로 설명될 수 있다.

- `모델링` - 모델을 만들어가는 일

  ![](images/SQL_001.jpg)

##### 나. 모델링의 특징

- 1) 추상화(모형화, 가설적)

  : 현실세계를 **일정한 형식(표기법)**에 맞추어 표현한다.

- 2) 단순화

  : 복잡한 현실세계를 **제한된 표기법이나 언어로 표현하여 쉽게 이해할 수 있도록** 한다.

- 3) 명확화

  : **대상에 대한 애매모호함을 제거**하고 정확하게 현상을 기술한다.

- 따라서 모델링을 다시 정의하면 ‘현실세계를 추상화, 단순화, 명확화하기 위해 일정한 표기법에 의해 표현하는 기법’으로 정리할 수 있다. 정보시스템 구축에서는 모델링을 계획/분석/설계 할 때 업무를 분석하고 설계하는데 이용하고 이후 구축/운영 단계에서는 변경과 관리의 목적으로 이용하게 된다.

##### 다. 모델링의 세 가지 관점

- 모델링은 크게 세 가지 관점인 데이터관점, 프로세스관점, 데이터와 프로세스의 상관관점으로 구분하여 설명할 수 있다.

  ![](images/SQL_002.jpg)

- 1) 데이터관점 : **업무가 어떤 데이터와 관련이 있는지** 또는 **데이터간의 관계는 무엇인지**에 대해서 모델링하는 방법(What, Data) 

  - 이 장에서는 데이터 모델링에 대한 기본 개념이 중요하므로 프로세스와 상관모델링에 대한 내용은 생략하고 데이터베이스를 구축하기 위한 **데이터 모델링을 중심으로 설명한다**.

- 2) 프로세스관점 : 업무가 실제하고 있는 일은 무엇인지 또는 무엇을 해야 하는지를 모델링하는 방법(How, Process) 

- 3) 데이터와 프로세스의 상관관점 : 업무가 처리하는 일의 방법에 따라 데이터는 어떻게 영향을 받고 있는지 모델링하는 방법(Interaction)으로 설명될 수 있다.



#### 2. 데이터 모델의 기본 개념의 이해

##### 가. (데이터)모델링의 정의

- 데이터베이스의 **논리적인 구조인 데이터 모델**을 이해하는 것은 SQL에 대한 지식을 쌓기 위한 핵심 이론이다. 일반적으로 `데이터 모델링`은 다음과 같이 다양하게 정의될 수 있다.

  - 정보시스템을 구축하기 위해, 해당 업무에 어떤 데이터가 존재하는지 또는 업무가 필요로 하는 정보는 무엇인지를 분석하는 방법
  - 데이터에 존재하는 업무 규칙(Business Rule)에 대하여 참(True) 또는 거짓(False)을 판별할 수 있는 사실(사실명제)을 데이터에 접근하는 방법(How), 사람(Who), 전산화와는 별개의(독립적인) 관점에서 이를 명확하게 표현하는 추상화 기법


- 데이터 모델링을 하는 주요한 이유

  - 1) 업무정보를 구성하는 기초가 되는 **정보들을 일정한 표기법에 의해 표현함으로써 업무 내용을 정확하게 분석**하는 것

  - 2) 분석된 모델을 가지고 실제 데이터베이스를 생성하여 **개발 및 데이터관리에 사용**하기 위한 것이다. 

    > 즉, 데이터 모델링이라는 것은 단지 데이터베이스만을 구축하기 위한 용도로만 쓰이는 것이 아니라 데이터 모델링 자체로서 업무를 설명하고 분석하는 부분에도 매우 중요한 의미를 가지고 있다고 할 수 있다.

##### 나. 데이터 모델이 제공하는 기능

- 업무를 분석하는 관점에서 데이터 모델이 제공하는 기능은 다음과 같다.
  - 시스템을 현재 또는 원하는 모습으로 가시화하도록 도와준다.
  - 시스템의 구조와 행동을 명세화 할 수 있게 한다.
  - 시스템을 구축하는 구조화된 틀을 제공한다.
  - 시스템을 구축하는 과정에서 결정한 것을 **문서화**한다.
  - 다양한 영역에 집중하기 위해 다른 영역의 세부 사항은 숨기는 **다양한 관점을 제공**한다.
  - 특정 목표에 따라 구체화된 상세 수준의 표현방법을 제공한다.



#### 3. 데이터 모델링의 중요성 및 유의점

- 데이터 모델링이 중요한 이유는 파급효과(Leverage), 복잡한 정보 요구사항의 간결한 표현(Conciseness), 데이터 품질(Data Quality)로 정리할 수 있다.

##### 가. 파급효과(Leverage)

- 데이터 모델의 변경이 불가피한 상황이 발생한다고 가정해 보자. 이를 위해서 데이터 구조의 변경에 따른 표준 영향 분석, 응용 변경 영향 분석 등 많은 영향 분석이 일어난다. **데이터 구조의 변경으로 인한 일련의 변경작업은 전체 시스템 구축 프로젝트에서 큰 위험요소이다.** 이러한 이유로 인해 시스템 구축 작업 중에서 다른 어떤 설계 과정보다 데이터 설계가 더 중요하다고 볼 수 있다.

  ##### 나. 복잡한 정보 요구사항의 간결한 표현(Conciseness)

- 데이터 모델은 구축할 시스템의 정보 **요구사항**과 **한계**를 가장 명확하고 간결하게 표현할 수 있는 도구이다. 정보 요구사항을 파악하는 가장 좋은 방법은 간결하게 그려져 있는 데이터 모델을 리뷰하면서 파악하는 것이다. 데이터 모델은 시스템을 구축하는 많은 관련자들이 설계자의 생각대로 정보요구사항을 이해하고 이를 운용할 수 있는 애플리케이션을 개발하고 데이터 정합성을 유지할 수 있도록 하는 것이다. **이상적인 설계 도면 역할을 하기 위해 가장 중요한 점은 정보 요구사항이 정확하고 간결하게 표현되어야 한다는 것이다.**

  ##### 다. 데이터 품질(Data Quality)

- 데이터베이스에 담겨 있는 데이터는 기업의 중요한 자산이다. 이 데이터는 기간이 오래되면 될수록 활용가치는 훨씬 높아진다. 그런데 이러한 오래도록 저장되어진 데이터가 그저 그런 데이터, 정확성이 떨어지는 데이터라고 한다면 어떨까? **이것은 해당 데이터로 얻을 수 있었던 소중한 비즈니스의 기회를 상실할 수도 있는 문제이다. **

- 데이터 품질의 문제는 데이터 구조가 설계되고 초기에 데이터가 조금 쌓일 때에는 인지하지 못하는 경우가 대부분이다. 이러한 데이터의 문제는 오랜 기간 숙성된 데이터를 전략적으로 활용하려고 하는 시점에 문제가 대두되기 때문이다.

- 데이터 품질의 문제가 야기되는 중대한 이유 중 하나가 바로 `데이터 구조의 문제`이다. 중복 데이터의 미정의, 데이터 구조의 비즈니스 정의의 불충분, 동일한 성격의 데이터를 통합하지 않고 분리함으로써의 나타나는 데이터 불일치 등의 데이터 구조의 문제로 인한 데이터 품질의 문제는 치유하기에 불가능한 경우가 대부분이다. 데이터 모델링을 할 때 유의점은 다음과 같다.
  - 1) 중복(Duplication)

    : 데이터 모델은 같은 데이터를 사용하는 사람, 시간, 그리고 장소를 파악하는데 도움을 준다. 이러한 지식 응용은 데이터베이스가 여러 장소에 같은 정보를 저장하는 잘못을 하지 않도록 한다.

  - 2) 비유연성(Inflexibility)

    : 데이터 모델을 어떻게 설계했느냐에 따라 사소한 업무변화에도 데이터 모델이 수시로 변경됨으로써 유지보수의 어려움을 가중시킬 수 있다. **데이터의 정의를 데이터의 사용 프로세스와 분리함으로써 데이터 모델링은 데이터 혹은 프로세스의 작은 변화가 애플리케이션과 데이터베이스에 중대한 변화를 일으킬 수 있는 가능성을 줄인다.**

  - 3) 비일관성(Inconsistency)

    : **데이터의 중복이 없더라도 비일관성은 발생한다.** 예를 들어 신용 상태에 대한 갱신 없이 고객의 납부 이력 정보를 갱신하는 것이다. 개발자가 다른 데이터와 모순된다는 고려 없이 일련의 데이터를 수정할 수 있기 때문이다. 데이터 모델링을 할 때 **데이터와 데이터간 상호 연관 관계**에 대한 명확한 정의는 이러한 위험을 사전에 예방할 수 있도록 해준다.



#### 4. 데이터 모델링의 3단계 진행

- 특별히 데이터 모델은 `데이터베이스를 만들어내는 설계서`로서 분명한 목표를 가지고 있다. 

- 현실세계에서 데이터베이스까지 만들어지는 과정은 아래와 같이 **시간에 따라 진행되는 과정**으로서 추상화 수준에 따라 개념적 데이터 모델, 논리적 데이터 모델, 물리적 데이터 모델로 정리할 수 있다.

  ![](images/SQL_004.jpg)

- 맨 처음에는 현실세계에서 <u>추상화 수준이 높은 상위 수준</u>을 형상화하기 위해 `개념적 데이터 모델링`을 전개한다. 개념적 데이터 모델은 추상화 수준이 높고 업무중심적이고 포괄적인 수준의 모델링을 진행한다. **엔터티(Entity)중심**의 상위 수준의 데이터 모델이 완성되면 업무의 구체적인 모습과 흐름에 따른 구체화된 업무중심의 데이터 모델을 만들어 내는데 이것을 `논리적인 데이터 모델링`이라고 한다. 논리적인 데이터 모델링 이후 데이터베이스의 저장구조에 따른 테이블스페이스 등을 고려한 방식을 `물리적인 데이터 모델링`이라고 한다.

  ![](images/SQL_005.jpg)

##### 가. 개념적 데이터 모델링(Conceptual Data Modeling)

- 조직, 사용자의 **데이터 요구사항**을 찾고 분석하는데서 시작한다. 
- 이 단계에 있어서의 주요한 활동은 **핵심 엔터티와 그들 간의 관계**를 발견하고, 그것을 표현하기 위해서 `엔터티-관계 다이어그램`을 생성하는 것이다. 엔터티-관계 다이어그램은 조직과 다양한 데이터베이스 사용자에게 어떠한 데이터가 중요한지 나타내기 위해서 사용된다. 데이터 모델링 과정이 전 조직에 걸쳐 이루어진다면, 그것은 전사적 데이터 모델(Enterprise Data Model)이라고 불린다. 개념 데이터 모델을 통해 조직의 데이터 요구를 공식화하는 것은 두 가지의 중요한 기능을 지원한다. 첫째, 개념 데이터 모델은 사용자와 시스템 개발자가 데이터 요구 사항을 발견하는 것을 지원한다. 개념 데이터 모델은 추상적이다. 그렇기 때문에 그 모델은 상위의 문제에 대한 구조화를 쉽게 하며, 사용자와 개발자가 시스템 기능에 대해서 논의할 수 있는 기반을 형성한다. 둘째, 개념 데이터 모델은 현 시스템이 어떻게 변형되어야 하는가를 이해하는데 유용하다. 일반적으로 매우 간단하게 고립된(Stand Alone) 시스템도 추상적 모델링을 통해서 보다 쉽게 표현되고 설명된다.

  ##### 나. 논리적 데이터 모델링(Logical Data Modeling)

  논리 데이터 모델링은 데이터베이스 설계 프로세스의 Input으로써 비즈니스 정보의 논리적인 구조와 규칙을 명확하게 표현하는 기법 또는 과정이라 할 수 있다. 논리 데이터 모델링의 결과로 얻어지는 논리 데이터 모델은 데이터 모델링이 최??리적인 스키마 설계를 하기 전에 액세스하고, 누가 데이터에 액세스하며, 그러한 액세스의 전산화와는 독립적으로 다시 말해서 누가(Who), 어떻게(How: Process) 그리고 전산화와는 별개로 비즈니스 데이터에 존재하는 사실들을 인식하여 기록하는 것이다. 데이터 모델링 과정에서 가장 핵심이 되는 부분이 논리 데이터 모델링이라고 할 수 있다. 데이터 모델링이란 모델링 과정이 아닌 별도의 과정을 통해서 조사하고 결정한 사실을 단지 ERD라는 그림으로 그려내는 과정을 말하는 것이 아니다. 시스템 구축을 위해서 가장 먼저 시작할 기초적인 업무조사를 하는 초기단계에서부터 인간이 결정해야 할 대부분의 사항을 모두 정의하는 시스템 설계의 전 과정을 지원하는 ‘과정의 도구’라고 해야 할 것이다. 이 단계에서 수행하는 또 한가지 중요한 활동은 정규화이다. 정규화는 논리 데이터 모델 상세화 과정의 대표적인 활동으로, 논리 데이터 모델의 일관성을 확보하고 중복을 제거하여 속성들이 가장 적절한 엔터티에 배치되도록 함으로써 보다 신뢰성있는 데이터구조를 얻는데 목적이 있다. 논리 데이터 모델의 상세화는 식별자 확정, 정규화, M:M 관계 해소, 참조 무결성 규칙 정의 등을 들 수 있으며, 추가적으로 이력 관리에 대한 전략을 정의하여 이를 논리 데이터 모델에 반영함으로써 데이터 모델링을 완료하게 된다.

  ##### 다. 물리적 데이터 모델링(Physical Data Modeling)

  데이터베이스 설계 과정의 세 번째 단계인 물리 데이터 모델링은 논리 데이터 모델이 데이터 저장소로서 어떻게 컴퓨터 하드웨어에 표현될 것인가를 다룬다. 데이터가 물리적으로 컴퓨터에 어떻게 저장될 것인가에 대한 정의를 물리적 스키마라고 한다. 이 단계에서 결정되는 것은 테이블, 칼럼 등으로 표현되는 물리적인 저장구조와 사용될 저장 장치, 자료를 추출하기 위해 사용될 접근 방법 등이 있다. 계층적 데이터베이스 관리 시스템 환경에서는 데이터베이스 관리자가 물리적 스키마를 설계하고 구현하기 위해서 보다 많은 시간을 투자하여야 한다.

  실질적인 현실 프로젝트에서는 개념적 데이터 모델링 논리적 데이터 모델링 물리적 데이터 모델링으로 수행하는 경우는 드물며 개념적 데이터 모델링과 논리적 데이터 모델을 한꺼번에 수행하여 논리적인 데이터 모델링으로 수행하는 경우가 대부분이다. 프로젝트 생명주기에 따른 일반적인 데이터 모델은 다음과 같이 수행된다.